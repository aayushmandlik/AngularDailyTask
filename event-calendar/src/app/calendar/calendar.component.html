<div style="padding: 20px;">
<div style="border: 1px solid lightgray; padding: 10px; border-radius: 20px;">
  <div style="display: flex; justify-content: space-between; align-items: center;">
    <div (click)="openFormDialog()" style="display: flex; background-color:aquamarine;align-items: center; padding: 10px; border-radius: 20px; cursor: pointer;">
      <mat-icon>add</mat-icon>
      <div style="font-size: larger;">Add Event</div>
    </div>
    <div *ngIf="calenderMode==='Week'">
      <div style="display: flex; gap: 10px; justify-content: center; text-align: center;margin: 30px 0 30px 0;">
        <mat-icon (click)="previousWeek()" style="background-color: aquamarine; padding: 5px; border-radius: 10px; cursor: pointer;">arrow_back_ios</mat-icon>
        <h2 style="font-size:xx-large; font-weight: 700;">Week of {{weekStartDate.toDateString()}} - {{weekEndDate.toDateString()}}</h2>
        <mat-icon (click)="nextWeek()" style="background-color: aquamarine; padding: 5px; border-radius: 10px; cursor: pointer;">arrow_forward_ios</mat-icon>
      </div>
    </div>
    <div *ngIf="calenderMode==='Month'">
      <div style="display: flex; gap: 10px; justify-content: center; text-align: center;margin: 30px 0 30px 0;">
      <mat-icon (click)="previosMonth()" style="background-color: aquamarine; padding: 5px; border-radius: 10px; cursor: pointer;">arrow_back_ios</mat-icon>
      <h2 style="font-size:xx-large; font-weight: 700;">{{months[currentMonth]}} 2025</h2>
      <mat-icon (click)="nextMonth()" style="background-color: aquamarine; padding: 5px; border-radius: 10px; cursor: pointer;">arrow_forward_ios</mat-icon>
    </div>
    </div>

    <div style="margin: 30px 0 30px 0;">
      <button mat-button (click)="toggleFunction1()" style="font-size: larger; background-color: aquamarine; padding: 20px; border-radius: 20px; cursor: pointer;">{{calenderMode === "Month" ? "Week View" : "Month View"}}</button>
    </div>
  </div>


  <div style="display: grid; grid-template-columns: repeat(7,1fr); gap: 10px;">
    <div *ngFor="let day of days" style="font-size: x-large;font-weight: 500; margin-bottom: 10px; text-align: center;color: gray ; background-color: aqua; padding: 10px; border-radius: 20px;">{{day}}</div>
  </div>

  <div style="gap: 10px;" [ngClass]="{'month-grid':calenderMode==='Month','week-grid':calenderMode==='Week'}">
    <mat-card
      *ngFor="let date of calenderDates"
      style="font-size: larger; padding: 10px;"
      [ngClass]="{'week-view-card': calenderMode==='Week','month-view-card': calenderMode==='Month', 'previous-month': date.getMonth()===currentMonth-1, 'current-month':date.getMonth()===currentMonth, 'next-month': date.getMonth()===currentMonth+1}"
      (click)="toggleFunction2(date)"
    >
      <div
        style="font-size: x-large; font-weight: 500; margin-bottom: 5px;"
        [ngClass]="{'current-date': date.toDateString()===currenDate.toDateString()}"
      >{{date.getDate()}}</div>
        <div *ngFor="let event of events" (click)="openEventDetailsDialog(event)" style="background-color: lightblue; border-radius: 5px; text-align: center; cursor: pointer; font-weight: 500; color: rgb(86, 86, 210);">
          <div *ngIf="event.date === date.toDateString() && calenderMode==='Month'">
            EVENTID: {{event.id}}
          </div>
          <div *ngIf="event.date === date.toDateString() && calenderMode==='Week'">
            EVENT: {{event.title}} <br><br>
            TIME: {{event.time}}
          </div>
        </div>
    </mat-card>
  </div>
</div>
</div>
